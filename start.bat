@echo off
chcp 65001 >nul
REM Бат-файл для запуску Kivy відеоредактора у віртуальному середовищі
REM Автор: Ваш AI помічник :)
REM Дата: 31.05.2025

REM Встановлення поточної директорії на ту, де знаходиться цей бат-файл.
REM Це важливо для правильної роботи відносних шляхів.
cd /d "%~dp0"

echo Перевірка наявності віртуального середовища 'venv'...
IF NOT EXIST "venv\Scripts\activate.bat" (
    echo ====================================================================
    echo ПОМИЛКА: Віртуальне середовище 'venv' не знайдено!
    echo Будь ласка, переконайтеся, що ви створили його в цій папці
    echo командою: python -m venv venv
    echo ====================================================================
    pause
    exit /b 1
)

echo Активація віртуального середовища 'venv'...
CALL venv\Scripts\activate.bat

echo Запуск Python-скрипта main.py...
REM Якщо ваш Python встановлений так, що команда 'python' не розпізнається глобально,
REM але доступна після активації venv, то цей рядок має спрацювати.
REM В іншому випадку, можна спробувати вказати повний шлях до python.exe з venv:
REM "%~dp0venv\Scripts\python.exe" main.py
python main.py

echo Робота програми завершена (або вікно Kivy було закрито).
REM Наступна команда 'pause' залишить це вікно відкритим, щоб ви могли бачити повідомлення.
REM Якщо програма Kivy закривається з помилкою дуже швидко, це допоможе побачити помилку.
REM Якщо програма Kivy працює нормально і закривається користувачем, то 'pause' може бути не обов'язковим.
pause